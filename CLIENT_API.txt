# dtrader-crypto-2.0 - WebSocket API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

## üì° –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```
ws://[SERVER_IP]:8080
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É `8080` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`).

---

## üîå –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```json
{
  "type": "connect",
  "clientId": "client_1760785757876_u6ionr2pp",
  "clientInfo": {
    "hostname": "server",
    "platform": "linux"
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `clientId` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
- `clientInfo.hostname` - –∏–º—è —Ö–æ—Å—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `clientInfo.platform` - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å–µ—Ä–≤–µ—Ä–∞ (linux, win32, darwin)
- `timestamp` - –≤—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (Unix timestamp –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)

---

### 2. Ping-Pong –º–µ—Ö–∞–Ω–∏–∑–º

–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å PING –∑–∞–ø—Ä–æ—Å—ã.

**–ó–∞–ø—Ä–æ—Å –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞:**

```json
{
  "type": "ping",
  "timestamp": 1760785757877
}
```

**–û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:**

```json
{
  "type": "pong",
  "timestamp": 1760785757900
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ PING –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

---

### 3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç:

```json
{
  "type": "disconnect",
  "clientId": "client_1760785757876_u6ionr2pp",
  "reason": "server_shutdown",
  "timestamp": 1760785757877
}
```

---

## üì• –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç **–ù–ï –ø–æ–ª—É—á–∞–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω—É–∂–Ω—ã–µ –∫–∞–Ω–∞–ª—ã.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:

| –ö–∞–Ω–∞–ª        | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                  | –ü–æ–¥–ø–∏—Å–∫–∞                                  |
| ------------ | ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------- |
| `system`     | **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** (—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞, —Å–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π, ping-pong, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –±–∏—Ä–∂—É, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Order Book) | ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è** (–Ω–µ–ª—å–∑—è –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è) |
| `logs`       | –û—Å—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ, –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ)                                                                                           | –í—Ä—É—á–Ω—É—é                                   |
| `ticks`      | –¢–∏–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞)                                                                                                            | –í—Ä—É—á–Ω—É—é                                   |
| `orderbook`  | –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Order Book                                                                                                                     | –í—Ä—É—á–Ω—É—é                                   |
| `balance`    | –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞                                                                                                                        | –í—Ä—É—á–Ω—É—é                                   |
| `indicators` | –î–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (tick_speed, orderbook_pressure, ema, rsi)                                                                             | –í—Ä—É—á–Ω—É—é                                   |

**–í–∞–∂–Ω–æ:**

- –ö–∞–Ω–∞–ª `system` **–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –û—Ç –∫–∞–Ω–∞–ª–∞ `system` **–Ω–µ–ª—å–∑—è –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è** - –æ–Ω –≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω
- –ß–µ—Ä–µ–∑ `system` –ø—Ä–∏—Ö–æ–¥—è—Ç **–í–°–ï** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
  - –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –°–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π Gate.io (ping-pong, –∑–∞–¥–µ—Ä–∂–∫–∞)
  - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã –±–∏—Ä–∂–∏
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Order Book
  - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∏—Ä–∂–µ

---

### –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "type": "subscribe",
  "channels": ["indicators", "ticks", "orderbook"],
  "timestamp": 1760785757877
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "type": "subscribed",
  "channels": ["indicators", "ticks", "orderbook"],
  "message": "Successfully subscribed to 3 channel(s)",
  "timestamp": 1760785757900
}
```

---

### –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –∫–∞–Ω–∞–ª–æ–≤

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "type": "unsubscribe",
  "channels": ["logs"],
  "timestamp": 1760785757877
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "type": "unsubscribed",
  "channels": ["logs"],
  "message": "Successfully unsubscribed from 1 channel(s)",
  "timestamp": 1760785757900
}
```

---

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞–Ω–∞–ª–∞–º

### 1. üìù –ö–∞–Ω–∞–ª `system` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å–∫–∞)

–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–≤—è–∑–∏ —Å –±–∏—Ä–∂–µ–π.

**‚úÖ –≠—Ç–æ—Ç –∫–∞–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤!**

```json
{
  "type": "log",
  "level": "info",
  "message": "‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

```json
{
  "type": "log",
  "level": "info",
  "message": "üèì PONG –ø–æ–ª—É—á–µ–Ω [2025-01-18T10:23:45.200Z] –∑–∞–¥–µ—Ä–∂–∫–∞: 77ms",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**

- `system` - –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `exchange` - —Å–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π Gate.io (ping-pong, –ø–æ–¥–ø–∏—Å–∫–∏, WebSocket)
- `internal` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ª–æ–≥–∏ (–ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–∞–Ω–∞–ª `logs`)

**–ß–∞—Å—Ç–æ—Ç–∞:** –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π

---

### 2. üìù –ö–∞–Ω–∞–ª `logs` (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏)

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ).

```json
{
  "type": "log",
  "level": "info",
  "message": "–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Å—á–∏—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ",
  "source": "server",
  "category": "internal",
  "timestamp": 1760785757877
}
```

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

- `info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `warn` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `error` - –æ—à–∏–±–∫–∏
- `debug` - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `success` - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

### 2. üìà –ö–∞–Ω–∞–ª `ticks`

–ö–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞ –Ω–∞ –±–∏—Ä–∂–µ.

```json
{
  "type": "tick",
  "symbol": "ETH_USDT",
  "price": 2345.67,
  "volume": 123456.78,
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `symbol` - —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `price` - —Ü–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏
- `volume` - –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ –∑–∞ 24 —á–∞—Å–∞
- `timestamp` - –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∏–∫–∞

**–ß–∞—Å—Ç–æ—Ç–∞:** ~1-10 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞)

---

### 3. üìñ –ö–∞–Ω–∞–ª `orderbook`

–°–≤–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å—Ç–∞–∫–∞–Ω–∞.

```json
{
  "type": "orderbook",
  "symbol": "ETH_USDT",
  "data": {
    "askVolume": 12345.67,
    "bidVolume": 13456.78,
    "askPercent": 47.8,
    "bidPercent": 52.2,
    "spread": 0.15,
    "midPrice": 2345.58
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `askVolume` - –æ–±—â–∏–π –æ–±—ä–µ–º –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É (USDT)
- `bidVolume` - –æ–±—â–∏–π –æ–±—ä–µ–º –∑–∞—è–≤–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É (USDT)
- `askPercent` - –ø—Ä–æ—Ü–µ–Ω—Ç ask –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä–µ–º–∞
- `bidPercent` - –ø—Ä–æ—Ü–µ–Ω—Ç bid –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä–µ–º–∞
- `spread` - —Å–ø—Ä–µ–¥ –º–µ–∂–¥—É –ª—É—á—à–∏–º–∏ bid/ask (USDT)
- `midPrice` - —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ (bid + ask) / 2

**–ß–∞—Å—Ç–æ—Ç–∞:** –ö–∞–∂–¥—ã–µ 50 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å—Ç–∞–∫–∞–Ω–∞ (~1-2 —Å–µ–∫—É–Ω–¥—ã)

---

### 4. üí∞ –ö–∞–Ω–∞–ª `balance`

–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –±–∏—Ä–∂–µ).

```json
{
  "type": "balance",
  "balances": [
    {
      "currency": "USDT",
      "available": 1000.5,
      "locked": 50.25
    },
    {
      "currency": "ETH",
      "available": 0.5,
      "locked": 0.0
    }
  ],
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `currency` - –≤–∞–ª—é—Ç–∞
- `available` - –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å
- `locked` - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å (–≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –æ—Ä–¥–µ—Ä–∞—Ö)

**–ß–∞—Å—Ç–æ—Ç–∞:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤)

---

### 5. üéØ –ö–∞–Ω–∞–ª `indicators`

–î–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

#### 5.1 ‚ö° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: `tick_speed`

–°–∫–æ—Ä–æ—Å—Ç—å —Ç–∏–∫–æ–≤ (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞).

```json
{
  "type": "indicator",
  "name": "tick_speed",
  "data": {
    "ticksPerMinute": 125,
    "activityLevel": "NORMAL",
    "isSpike": false,
    "trend": "rising"
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `ticksPerMinute` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–æ–≤ –≤ –º–∏–Ω—É—Ç—É (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
- `activityLevel` - —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
  - `DEAD` - —Ä—ã–Ω–æ–∫ –º–µ—Ä—Ç–≤ (< 20 t/min)
  - `LOW` - –Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (20-100 t/min)
  - `NORMAL` - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (100-300 t/min)
  - `HIGH` - –≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (300-600 t/min)
  - `EXTREME` - —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (> 600 t/min, –≤–æ–∑–º–æ–∂–µ–Ω –ø–∞–º–ø/–¥–∞–º–ø)
- `isSpike` - —Ä–µ–∑–∫–∏–π –≤—Å–ø–ª–µ—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (boolean)
- `trend` - —Ç—Ä–µ–Ω–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏:
  - `rising` - —Ä–∞—Å—Ç–µ—Ç
  - `falling` - –ø–∞–¥–∞–µ—Ç
  - `stable` - —Å—Ç–∞–±–∏–ª—å–Ω–∞

**–ß–∞—Å—Ç–æ—Ç–∞:** –ö–∞–∂–¥—ã–µ 20 —Ç–∏–∫–æ–≤ (~5-20 —Å–µ–∫—É–Ω–¥)

---

#### 5.2 üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: `orderbook_pressure`

–î–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–∞–∫–∞–Ω–µ (—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ bid/ask).

```json
{
  "type": "indicator",
  "name": "orderbook_pressure",
  "data": {
    "bidVolume": 15234.56,
    "askVolume": 13456.78,
    "totalVolume": 28691.34,
    "bidPercent": 53.1,
    "askPercent": 46.9,
    "imbalance": 0.062,
    "direction": "BUY",
    "spread": 0.15,
    "spreadPercent": 0.0064
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `bidVolume` - –æ–±—ä–µ–º bid (USDT)
- `askVolume` - –æ–±—ä–µ–º ask (USDT)
- `totalVolume` - –æ–±—â–∏–π –æ–±—ä–µ–º
- `bidPercent` - –ø—Ä–æ—Ü–µ–Ω—Ç bid (0-100)
- `askPercent` - –ø—Ä–æ—Ü–µ–Ω—Ç ask (0-100)
- `imbalance` - Order Book Imbalance (OBI):
  - `-1.0` –¥–æ `-0.3` - —Å–∏–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
  - `-0.3` –¥–æ `-0.1` - –¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
  - `-0.1` –¥–æ `0.1` - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ
  - `0.1` –¥–æ `0.3` - –¥–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫
  - `0.3` –¥–æ `1.0` - —Å–∏–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫
- `direction` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è:
  - `STRONG_SELL` - —Å–∏–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
  - `SELL` - –¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
  - `NEUTRAL` - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ
  - `BUY` - –¥–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫
  - `STRONG_BUY` - —Å–∏–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫
- `spread` - —Å–ø—Ä–µ–¥ (USDT)
- `spreadPercent` - —Å–ø—Ä–µ–¥ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã

**–ß–∞—Å—Ç–æ—Ç–∞:** –ö–∞–∂–¥—ã–µ 50 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å—Ç–∞–∫–∞–Ω–∞ (~1-2 —Å–µ–∫—É–Ω–¥—ã)

---

#### 5.3 üìà –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: `ema` (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è.

```json
{
  "type": "indicator",
  "name": "ema",
  "data": {
    "symbol": "ETH_USDT",
    "period": 20,
    "value": 2345.67,
    "trend": "up"
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `symbol` - —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `period` - –ø–µ—Ä–∏–æ–¥ EMA (9, 20, 50, 200)
- `value` - —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ EMA
- `trend` - —Ç—Ä–µ–Ω–¥ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—ã:
  - `up` - —Ü–µ–Ω–∞ –≤—ã—à–µ EMA (–≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥)
  - `down` - —Ü–µ–Ω–∞ –Ω–∏–∂–µ EMA (–Ω–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥)
  - `flat` - —Ü–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ EMA

**–ß–∞—Å—Ç–æ—Ç–∞:** –ü—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–≤–µ—á–∏ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞)

---

#### 5.4 üìâ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: `rsi` (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

–ò–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã.

```json
{
  "type": "indicator",
  "name": "rsi",
  "data": {
    "symbol": "ETH_USDT",
    "period": 14,
    "value": 65.5,
    "zone": "neutral"
  },
  "timestamp": 1760785757877
}
```

**–ü–æ–ª—è:**

- `symbol` - —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `period` - –ø–µ—Ä–∏–æ–¥ RSI (–æ–±—ã—á–Ω–æ 14)
- `value` - –∑–Ω–∞—á–µ–Ω–∏–µ RSI (0-100)
- `zone` - –∑–æ–Ω–∞:
  - `oversold` - –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å (RSI < 30)
  - `neutral` - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞ (30-70)
  - `overbought` - –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å (RSI > 70)

**–ß–∞—Å—Ç–æ—Ç–∞:** –ü—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–≤–µ—á–∏

---

## üîó –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–≤—è–∑–∏ —Å –±–∏—Ä–∂–µ–π

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–≤—è–∑–∏ —Å Gate.io –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª `system`.

**–í–∞–º –ù–ï –Ω—É–∂–Ω–æ** –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª - –æ–Ω –∞–∫—Ç–∏–≤–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!

### –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```json
{
  "type": "log",
  "level": "success",
  "message": "‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

### Ping-Pong —Å –±–∏—Ä–∂–µ–π:

```json
{
  "type": "log",
  "level": "info",
  "message": "üèì PING –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω [2025-01-18T10:23:45.123Z]",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

```json
{
  "type": "log",
  "level": "info",
  "message": "üèì PONG –ø–æ–ª—É—á–µ–Ω [2025-01-18T10:23:45.200Z] –∑–∞–¥–µ—Ä–∂–∫–∞: 77ms",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

### –ü–æ—Ç–µ—Ä—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:

```json
{
  "type": "log",
  "level": "warn",
  "message": "‚ö†Ô∏è PONG –Ω–µ –ø–æ–ª—É—á–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 30 —Å–µ–∫—É–Ω–¥",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

### –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```json
{
  "type": "log",
  "level": "info",
  "message": "üîÑ –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket...",
  "source": "server",
  "category": "exchange",
  "timestamp": 1760785757877
}
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (latency):

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏ –ø–∞—Ä—Å–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è PONG:

```javascript
if (message.category === "exchange" && message.message.includes("PONG")) {
  const latencyMatch = message.message.match(/–∑–∞–¥–µ—Ä–∂–∫–∞: (\d+)ms/);
  if (latencyMatch) {
    const latency = parseInt(latencyMatch[1]);
    console.log(`–ó–∞–¥–µ—Ä–∂–∫–∞: ${latency}ms`);

    if (latency > 1000) {
      console.warn("‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞!");
    }
  }
}
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:

```json
{
  "type": "error",
  "error": "Invalid message format",
  "details": "Unexpected token in JSON",
  "timestamp": 1760785757877
}
```

### –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è:

```json
{
  "type": "error",
  "error": "Unknown message type",
  "details": "Type 'unknown' is not supported",
  "timestamp": 1760785757877
}
```

---

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

```javascript
const WebSocket = require("ws");

const ws = new WebSocket("ws://localhost:8080");

ws.on("open", () => {
  console.log("‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —Å–µ—Ä–≤–µ—Ä—É");
  // –ö–∞–Ω–∞–ª 'system' –£–ñ–ï –∞–∫—Ç–∏–≤–µ–Ω! –ù–µ –Ω—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è
});

ws.on("message", (data) => {
  const message = JSON.parse(data.toString());

  // –í—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç
  if (message.type === "log" && message.category === "system") {
    console.log(`[SYSTEM] ${message.message}`);
  }

  // –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–∏—Ä–∂–∏
  if (message.type === "log" && message.category === "exchange") {
    console.log(`[EXCHANGE] ${message.message}`);

    // –ü–∞—Ä—Å–∏–º –∑–∞–¥–µ—Ä–∂–∫—É –∏–∑ PONG
    if (message.message.includes("PONG")) {
      const latencyMatch = message.message.match(/–∑–∞–¥–µ—Ä–∂–∫–∞: (\d+)ms/);
      if (latencyMatch) {
        console.log(`Latency: ${latencyMatch[1]}ms`);
      }
    }
  }
});
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ç–∏–∫–∏

```javascript
const WebSocket = require("ws");

const ws = new WebSocket("ws://localhost:8080");

ws.on("open", () => {
  console.log("–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —Å–µ—Ä–≤–µ—Ä—É");

  // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ —Ç–∏–∫–∏
  ws.send(
    JSON.stringify({
      type: "subscribe",
      channels: ["indicators", "ticks"],
      timestamp: Date.now(),
    })
  );
});

ws.on("message", (data) => {
  const message = JSON.parse(data.toString());

  if (message.type === "indicator") {
    console.log(`–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: ${message.name}`, message.data);
  }

  if (message.type === "tick") {
    console.log(`–¢–∏–∫: ${message.symbol} @ ${message.price}`);
  }
});
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∏—Ä–∂–µ–π

```javascript
let lastPongTime = null;
let exchangeLatency = null;

ws.on("message", (data) => {
  const message = JSON.parse(data.toString());

  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ exchange –ª–æ–≥–∏ –∏–∑ –∫–∞–Ω–∞–ª–∞ system
  if (message.type === "log" && message.category === "exchange") {
    if (message.message.includes("PONG")) {
      lastPongTime = Date.now();

      // –ò–∑–≤–ª–µ–∫–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É
      const latencyMatch = message.message.match(/–∑–∞–¥–µ—Ä–∂–∫–∞: (\d+)ms/);
      if (latencyMatch) {
        exchangeLatency = parseInt(latencyMatch[1]);
        console.log(`üì° –°–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π: ${exchangeLatency}ms`);

        if (exchangeLatency > 1000) {
          console.warn("‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞!");
        }
      }
    }

    if (message.message.includes("–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ")) {
      console.warn("‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è–Ω–∞ —Å–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...");
    }

    if (message.message.includes("—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ")) {
      console.log("‚úÖ –°–≤—è–∑—å —Å –±–∏—Ä–∂–µ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞");
    }
  }
});

// –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–∞–π–º–∞—É—Ç–∞ PONG
setInterval(() => {
  if (lastPongTime && Date.now() - lastPongTime > 60000) {
    console.error("‚ùå –ù–µ—Ç PONG –æ—Ç –±–∏—Ä–∂–∏ –±–æ–ª–µ–µ 60 —Å–µ–∫—É–Ω–¥!");
  }
}, 10000);
```

---

### –ü—Ä–∏–º–µ—Ä 3: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–≤–ª–µ–Ω–∏—è –≤ —Å—Ç–∞–∫–∞–Ω–µ

```javascript
ws.on("message", (data) => {
  const message = JSON.parse(data.toString());

  if (message.type === "indicator" && message.name === "orderbook_pressure") {
    const { bidPercent, askPercent, direction, imbalance } = message.data;

    // ASCII –±–∞—Ä
    const barWidth = 50;
    const bidWidth = Math.round((bidPercent / 100) * barWidth);
    const askWidth = barWidth - bidWidth;

    const bar = "‚ñà".repeat(bidWidth) + "|" + "‚ñà".repeat(askWidth);

    console.log(`üü¢${bar}üî¥`);
    console.log(`Direction: ${direction}, OBI: ${imbalance.toFixed(3)}`);
  }
});
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

- –ö–∞–Ω–∞–ª `system` **–∞–∫—Ç–∏–≤–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –Ω–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–µ–≥–æ –≤—Ä—É—á–Ω—É—é
- –î–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –±–æ—Ç–æ–≤: `indicators`, `ticks`, `balance`
- –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: `system` —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω, –¥–æ–±–∞–≤—å—Ç–µ `logs` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/–æ—Ç–ª–∞–¥–∫–∏: –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –∫—Ä–æ–º–µ `system` (–æ–Ω —É–∂–µ –µ—Å—Ç—å)

### 2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–æ–≥–æ–≤

- `system` - –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–∫–∞–Ω–∞–ª `system`)
- `exchange` - —Å–≤—è–∑—å —Å Gate.io, ping-pong, –ø–æ–¥–ø–∏—Å–∫–∏ (–∫–∞–Ω–∞–ª `system`)
- `internal` - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ (–∫–∞–Ω–∞–ª `logs`, —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏)

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π

- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∑–∞–Ω–æ–≤–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω—É–∂–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- –ö–∞–Ω–∞–ª `system` –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –•—Ä–∞–Ω–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### 3. Ping-Pong

- –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ PING –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ï—Å–ª–∏ PONG –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç 60 —Å–µ–∫—É–Ω–¥ - –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É (latency)

### 4. –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ timestamp –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 5. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π —Ç–∏–∫ –Ω–∞ —ç–∫—Ä–∞–Ω (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)
- –ê–≥—Ä–µ–≥–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ debounce –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## üìö –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:

1. –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å `terminal-kit`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
3. –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** WebSocket (RFC 6455)
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** JSON
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:** 1MB
- **Reconnect timeout:** 5 —Å–µ–∫—É–Ω–¥
- **Ping interval (—Å–µ—Ä–≤–µ—Ä ‚Üí –±–∏—Ä–∂–∞):** 15 —Å–µ–∫—É–Ω–¥
- **Pong timeout (—Å–µ—Ä–≤–µ—Ä ‚Üí –±–∏—Ä–∂–∞):** 30 —Å–µ–∫—É–Ω–¥
